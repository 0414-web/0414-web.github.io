<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>예약 체크리스트 캘린더</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; text-align: center; padding: 10px; }
    .slot { cursor: pointer; }
    .reserved { background-color: #f39c12; color: white; }
  </style>
</head>
<body>
  <h1>예약 체크리스트 캘린더</h1>

  <!-- 로그인 -->
  <div id="login-section">
    <label for="username">예약자명:</label>
    <input type="text" id="username" placeholder="이름 입력" />
    <button onclick="login()">로그인</button>
  </div>

  <!-- 캘린더 -->
  <div id="calendar-section" style="display:none;">
    <h2>이번 주 예약</h2>
    <table>
      <thead>
        <tr>
          <th>요일</th>
          <th>아침 (07:00)</th>
          <th>점심 (12:00)</th>
          <th>저녁 (19:00)</th>
        </tr>
      </thead>
      <tbody id="calendar-body"></tbody>
    </table>
  </div>

  <script>
    let currentUser = null;
    let reservations = {}; // { '월요일-아침': '홍길동', ... }

    const days = ["월요일","화요일","수요일","목요일","금요일","토요일","일요일"];
    const slots = ["아침 (07:00)", "점심 (12:00)", "저녁 (19:00)"];

    function login() {
      const username = document.getElementById('username').value.trim();
      if (username) {
        currentUser = username;
        document.getElementById('login-section').style.display = 'none';
        document.getElementById('calendar-section').style.display = 'block';
        renderCalendar();
      } else {
        alert("예약자명을 입력하세요.");
      }
    }

    function renderCalendar() {
      const tbody = document.getElementById('calendar-body');
      tbody.innerHTML = '';
      days.forEach(day => {
        const row = document.createElement('tr');
        const dayCell = document.createElement('td');
        dayCell.textContent = day;
        row.appendChild(dayCell);

        slots.forEach(slot => {
          const cell = document.createElement('td');
          const key = day + "-" + slot;
          cell.className = "slot";
          cell.onclick = () => reserveSlot(key);
          cell.textContent = reservations[key] ? reservations[key] : "예약 가능";
          if (reservations[key]) cell.classList.add("reserved");
          row.appendChild(cell);
        });

        tbody.appendChild(row);
      });
    }

    function reserveSlot(key) {
      if (reservations[key]) {
        alert("이미 예약된 시간입니다: " + reservations[key]);
      } else {
        reservations[key] = currentUser;
        renderCalendar();
      }
    }
  </script>
</body>
</html>
